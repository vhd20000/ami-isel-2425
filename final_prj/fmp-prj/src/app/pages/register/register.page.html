<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-content">
    <form class="form" [formGroup]="validations_form" (ngSubmit)="tryRegister(validations_form.value)">
      <div>
        <ion-input 
          label="Email" 
          label-placement="floating" 
          fill="outline"
          formControlName="email"
        ></ion-input>
  
        <div class="validation-errors">
          <ng-container *ngFor="let validation of validation_messages.email">
            <div class="error-message"
                *ngIf="validations_form.get('email')?.hasError(validation.type) &&
                (validations_form.get('email')?.dirty ||
                validations_form.get('email')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </div>
      </div>
  
      <div class="password-field">
        <ion-input 
          label="Password" 
          label-placement="floating" 
          fill="outline"
          type="password"
          formControlName="password"
        ></ion-input>
  
        <div class="validation-errors">
          <ng-container *ngFor="let validation of validation_messages.password">
            <div class="error-message"
                *ngIf="validations_form.get('password')?.hasError(validation.type) &&
                (validations_form.get('password')?.dirty ||
                validations_form.get('password')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </div>
      </div>
  
      <ion-button class="submit-btn" expand="block" type="submit" [disabled]="!validations_form.valid">
        Register
      </ion-button>
  
      <label class="error-message">{{errorMessage}}</label>
  
      <label class="success-message">{{successMessage}}</label>
    </form>
  </div>
</ion-content>